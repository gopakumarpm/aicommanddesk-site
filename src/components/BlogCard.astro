---
interface Props {
  title: string;
  description: string;
  date: Date;
  category: string;
  slug: string;
  image?: string;
  featured?: boolean;
}

const { title, description, date, category, slug, image, featured = false } = Astro.props;

const formattedDate = new Date(date).toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric',
});

const categoryColors: Record<string, string> = {
  'AI Tools': 'bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300',
  'AI Strategy': 'bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300',
  'AI Automation': 'bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300',
  'AI for Teams': 'bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300',
  'Case Studies': 'bg-pink-100 text-pink-700 dark:bg-pink-900/30 dark:text-pink-300',
  'Tutorials': 'bg-cyan-100 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-300',
};

const colorClass = categoryColors[category] || 'bg-gray-100 text-gray-700';
---

<article class={`card group ${featured ? 'md:col-span-2' : ''}`}>
  <a href={`/blog/${slug}`} class="block">
    <!-- Image -->
    <div class={`bg-gradient-to-br from-electric-100 to-electric-50 dark:from-navy-400 dark:to-navy-600 ${featured ? 'h-56' : 'h-44'} flex items-center justify-center`}>
      <div class="text-electric-300 dark:text-navy-300">
        <svg class="w-16 h-16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
        </svg>
      </div>
    </div>

    <!-- Content -->
    <div class="p-5">
      <div class="flex items-center gap-3 mb-3">
        <span class={`text-xs font-medium px-2.5 py-1 rounded-full ${colorClass}`}>
          {category}
        </span>
        <time class="text-xs text-gray-500 dark:text-gray-400" datetime={date.toISOString()}>
          {formattedDate}
        </time>
      </div>

      <h3 class={`font-bold text-navy-500 dark:text-white group-hover:text-electric-500 dark:group-hover:text-electric-400 transition-colors leading-tight ${featured ? 'text-xl md:text-2xl' : 'text-lg'}`}>
        {title}
      </h3>

      <p class={`text-gray-600 dark:text-gray-400 mt-2 line-clamp-2 ${featured ? 'text-base' : 'text-sm'}`}>
        {description}
      </p>

      <div class="mt-4 flex items-center text-electric-500 dark:text-electric-400 text-sm font-medium group-hover:translate-x-1 transition-transform">
        Read article
        <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
        </svg>
      </div>
    </div>
  </a>
</article>
